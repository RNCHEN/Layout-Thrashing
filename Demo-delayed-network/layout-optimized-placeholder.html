<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fixed Layout Shift Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .content {
            width: 600px;
            margin: 50px auto;
        }
        .image-placeholder {
            width: 100%;
            aspect-ratio: 3 / 2;
            background-color: #ccc;
        }
        img {
            width: 100%;
            height: auto;
            display: block;
        }
    </style>
</head>
<body>
    <div class="content">
        <h1>Welcome to Our Website</h1>
        <p>This is an introduction paragraph that provides some information to the user.</p>
        <div class="image-placeholder">
            <!-- Placeholder for the image to reserve space and prevent layout shift -->
            <img src="slow-image.jpg" alt="Beautiful Landscape">
        </div>
        <p>This is some additional content that remains in place even when the image loads. It will be pushed down and shift once the delayed image gets loaded.</p>
    </div>

    <script>
        const img = document.querySelector('img');
        const imgSrc = 'slow-image.jpg';
        // Simulate a network delay before loading the image
        setTimeout(() => {
            img.src = imgSrc;
        }, 3); // Delay image loading by 0.003 seconds
    </script>    

    <!-- Explanation of the demo -->
    <div class="content">
        <h2>Explanation</h2>
        <p>This demo shows how using a placeholder can prevent layout shifts caused by delayed network loading.</p>
        <p>In this example, the <code>.image-placeholder</code> div is used to reserve space for the image before it loads. The <code>aspect-ratio</code> property ensures that the placeholder maintains the correct aspect ratio, preventing layout shifts.</p>
        <p>The <code>setTimeout</code> function simulates a network delay, causing the image to load after a short delay.</p>
    </div>
</body>
</html>
